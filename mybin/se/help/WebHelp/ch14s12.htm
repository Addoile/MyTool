<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Defining Events and Event Tables</title><link rel="stylesheet" href="slickedit_help.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.71.1"><link rel="start" href="index.htm" title="Welcome to SlickEdit 2013"><link rel="up" href="ch14.htm" title="Chapter 14.  Slick-C® Macro Programming Guide"><link rel="prev" href="ch14s11.htm" title="Defining Controls"><link rel="next" href="ch14s13.htm" title="Event-Driven Dialog Boxes"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><p class="HeaderText"><a href="index.htm#contents">Contents</a> : <a href="ix01.htm">Index</a> : <a href="search.htm">Search</a></p><hr><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="slick_c_definingevents_13719_12994"></a>
    <a name="slick_c_definingevents_13719_1003367"></a>
    <a class="indexterm" name="slick-c_definingevents_BB220B21_DD73"></a>
    <a class="indexterm" name="slick-c_definingevents_FD910B79_95AB"></a>
    <a class="indexterm" name="slick-c_definingevents_B4A20F64_7FDC"></a>Defining Events and Event Tables</h2></div></div></div><p class="NormalText">Event tables are used for describing event or key bindings by source code, creating event-driven dialog boxes, and describing inheritance.</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="slick_c_definingevents_13719_1025116"></a>
      <a class="indexterm" name="slick-c_definingevents_2D58768F_E0D1"></a>
      <a class="indexterm" name="slick-c_definingevents_840D16A7_202B"></a>
      <a class="indexterm" name="slick-c_definingevents_22023739_8D95"></a>def Primitive</h3></div></div></div><p class="NormalText">The <span><strong class="command">def</strong></span> primitive is used to bind a key sequence or event to a command or procedure and is not typically used when creating event-driven dialog boxes. The <span><strong class="command">defeventtab</strong></span> primitive selects the active event table that the <span><strong class="command">def</strong></span> primitive sets the bindings to. If there is no <span><strong class="command">defeventtab</strong></span> declaration before the first <span><strong class="command">def</strong></span> primitive, the <span><strong class="command">default_keys</strong></span> event table is used. The <span><strong class="command">default_keys</strong></span> event table defines the event handlers for Fundamental mode. The source code representing the bindings is translated and then the event tables are loaded either by the <span><strong class="command">load</strong></span> command<a name="slick_c_definingevents_13719_1026310"></a> or by executing the module as a batch program. For more information on batch programs, see <span class="bold"><strong><a href="ch14s09.htm#slick_c_functions_12256_78599">defmain: Writing Slick-C® Batch Files</a></strong></span>. Even though executing the module as a batch program unloads the module when the <span><strong class="command">defmain</strong></span> function terminates, the event table changes remain present. The following syntax is used for defining a key:</p><pre class="programlisting"><span><strong class="command">
    def {prefix_key} event [- event] [, event [- event]] ... = [command];
    </strong></span></pre><p class="NormalText">
      <span class="emphasis"><em>command</em></span> can be either a command (defined with <span><strong class="command">_command</strong></span>) or global procedure. If <span class="emphasis"><em>command</em></span> is not specified, the existing event is unbound. The words <span class="emphasis"><em>prefix_key</em></span> and <span class="emphasis"><em>event</em></span> may be any valid event name. Some event names do not need to be enclosed in quotes. </p><p class="NormalText">Example:</p><pre class="programlisting">def "A-x"=safe_exit;
// Note that "A-a" is different than "A-A" which requires the Alt and Shift keys
// to be pressed. 
    def "A-?"=help;
    def "C-X" "b"=list_buffers;
    def \0 - \255= nothing;</pre><p class="NormalText">
      <a class="indexterm" name="slick-c_definingevents_D2CCCA05_453F"></a>The <span><strong class="command">defeventtab</strong></span> primitive is used to define a new event table. The syntax for defining a an event table is:</p><pre class="programlisting"><span><strong class="command">
    defeventtab name;
    </strong></span></pre><p class="NormalText">
      <span class="emphasis"><em>name</em></span> may contain a period (<span><strong class="command">.</strong></span>) character. The period is used to separate the form name from the control name. The <span><strong class="command">def</strong></span> primitive changes the binding of events of the last event table defined. If no event table is defined, the <span><strong class="command">default_keys</strong></span> event table is used. </p><p class="NormalText">Example:</p><pre class="programlisting">defeventtab  c_keys;
    def " "=c_space;
    def "ENTER"=c_enter;</pre><p class="NormalText">Event tables are global in scope. When an event table is loaded by the <span><strong class="command">load</strong></span> command or by executing the module as a batch program, the new bindings replace the event bindings of the existing event table. If the event table specified by <span><strong class="command">defeventtab</strong></span> does not exist, a new one is created.</p><p class="NormalText"></p></div></div></body></html>
